MAP
NAME CRDPPF
STATUS ON
SIZE 400 300
UNITS METERS
TRANSPARENT on
MAXSIZE 4096
SYMBOLSET "crdppf.sym"
FONTSET fonts.txt

#CONFIG "MS_ERRORFILE" "/tmp/ms.log"
DEBUG 3
EXTENT ${vars:mapExtentMinX} ${vars:mapExtentMinY} ${vars:mapExtentMaxX} ${vars:mapExtentMaxY}

WEB
  IMAGEPATH "/tmp"
  METADATA
    "ows_title"                         "CRDPPF OWS server"
    "ows_enable_request"          "*"
    "wfs_encoding"                   "utf-8"
    "wms_title"                        "${vars:instanceid} WMS Server"
    "wms_onlineresource"          "http://${vars:host}/${vars:instanceid}/wmscrdppf"
    "wms_srs"                         "EPSG:2056" 
  END
END

IMAGETYPE png24
IMAGECOLOR 255 255 255
TRANSPARENT OFF

RESOLUTION 150
DEFRESOLUTION 150

OUTPUTFORMAT
  NAME png24
  DRIVER "AGG/PNG"
  MIMETYPE "image/png"
  IMAGEMODE "RGB"
  EXTENSION "png"
END

OUTPUTFORMAT
  NAME jpeg
  DRIVER "AGG/JPEG"
  MIMETYPE "image/jpeg"
  EXTENSION "jpeg"
  FORMATOPTION QUALITY=88
END

PROJECTION
  "init=epsg:2056"   ##required
END

LEGEND
 STATUS ON        # Draw legend in the map
 KEYSIZE 20 15      # Define the size of the legend icon.
 LABEL            # Used only for embedded legend (in the map)
   TYPE TRUETYPE
   FONT "verdana"
   COLOR 0 0 0
   SIZE 8
   ANTIALIAS TRUE
 END
END


 # A scalebar object is defined one level below the map object.  This object 
  # controls how a scalebar is drawn by MapServer.  Scalebars can be embedded 
  # in the map itself or can be created as a separate image.  It has an 
  # associated MapServer CGI variable called "scalebar" (or [scalebar] when 
  # used in the HTML template).
  SCALEBAR
    IMAGECOLOR 255 255 255
    LABEL
      COLOR 0 0 0
      SIZE SMALL
    END
    STYLE 0
    SIZE 300 10
    COLOR 0 0 0
    UNITS METERS
    INTERVALS 5
    TRANSPARENT FALSE
    STATUS EMBED
  END # Scalebar object ends

LAYER
  NAME "parcelles"
  TYPE POLYGON
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from mensuration.mo9_immeubles using unique idobj using srid=2056"
  STATUS ON
  TEMPLATE "foo"
  CLASS
    NAME "name1"
    STYLE
      OUTLINECOLOR 120 120 0
    END 
  END
  METADATA
    "ows_title" "parcelles"
    "wms_srs" "epsg:2056"
    "wfs_enable_request" "*"
    "gml_types" "auto"
    "gml_include_items" "idemai,cadastre,nummai,typimm,srfmai,nufeco,valide"
  END
  PROJECTION
    "init=epsg:2056"   ##required
  END
  MINSCALEDENOM 0
  MAXSCALEDENOM 10001
END

######################
# RESTRICTIONS CRDPPF - début
######################

LAYER
  NAME "r73_contenus_ponctuels"
  TYPE POINT
   METADATA
       "ows_title"                    "r73_contenus_ponctuels"
       "wms_srs"                     "epsg:2056"
       "wms_title"                   "${vars:instanceid} WMS Server"
       "wms_onlineresource"     "http://${vars:host}/${vars:instanceid}/wmscrdppf"
       "wms_srs"                    "epsg:2056" 
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from crdppf.r73_contenus_ponctuels using unique idobj using srid=2056"
  STATUS ON
  CLASSITEM "codegenre" 
  OPACITY 60
  TEMPLATE "ttt"
  CLASS
    NAME "Bloc erratique"
    EXPRESSION /8101/
    SYMBOL "square"
    COLOR 155 0 0
    SIZE 5
  END
  CLASS
    NAME "Arbre isolé"
    EXPRESSION /8102/
    SYMBOL "circle"
    COLOR 0 180 0
    SIZE 8
  END
  CLASS
    NAME "Bâtiment intéressant"
    EXPRESSION /8201/
    SYMBOL "patrimoine_architectural"
    MINSIZE 10
    SIZE 10
    MAXSIZE 10
    COLOR 255 115 66
    OUTLINECOLOR 132 0 0
  END
  CLASS
    NAME "Bâtiment typique ou pittoresque"
    EXPRESSION /8202/
    SYMBOL "patrimoine_architectural"
    MINSIZE 10
    SIZE 10
    MAXSIZE 10
    COLOR 0 200 0
    OUTLINECOLOR 132 0 0
  END
  CLASS
    NAME "Bâtiment intéressant"
    EXPRESSION /8201/
    SYMBOL "patrimoine_architectural"
    MINSIZE 10
    SIZE 10
    MAXSIZE 10
    COLOR 255 115 66
    OUTLINECOLOR 132 0 0
  END
  CLASS
    NAME "Bâtiment perturbant"
    EXPRESSION /8203/
    SYMBOL "patrimoine_architectural"
    MINSIZE 10
    SIZE 10
    MAXSIZE 10
    COLOR 180 0 0
    OUTLINECOLOR 132 0 0
  END
  CLASS
    NAME "Autre"
    EXPRESSION /8901/
    SYMBOL "circle"
    COLOR 155 0 0
    SIZE 5
  END
  TOLERANCE 8
  TOLERANCEUNITS pixels
END

LAYER
  NAME "r73_contenus_lineaires"
  TYPE LINE
   METADATA
       "ows_title"                   "r73_contenus_lineaires"
       "wms_srs"                    "epsg:2056"
       "wms_title"                  "${vars:instanceid} WMS Server"
       "wms_onlineresource"    "http://${vars:host}/${vars:instanceid}/wmscrdppf"
       "wms_srs"                   "epsg:2056" 
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from crdppf.r73_contenus_lineaires using unique idobj using srid=2056"
  STATUS ON
  CLASSITEM "codegenre" 
  OPACITY 60
  TEMPLATE "ttt"
  # Limites à la construction
  CLASS
    NAME "Limite surfaces eaux"
    EXPRESSION /7101/
    STYLE
      OUTLINECOLOR 0 0 255
      WIDTH 2
    END
  END
  CLASS
    NAME "Terr. en nature de vigne"
    EXPRESSION /7102/
    STYLE
        PATTERN 4 4 END
        WIDTH 2
        COLOR 100 100 100
    END
  END
  CLASS
    NAME "Limite zone viticole"
    EXPRESSION /7103/
    STYLE
        PATTERN 4 4 END
        WIDTH 2
        COLOR 255 0 255
    END
  END
  CLASS
    NAME "Limite à la forêt"
    EXPRESSION /7104/
    STYLE
        PATTERN 4 4 END
        WIDTH 2
        COLOR 0 140 0
    END
  END
  # Objets protégés
  CLASS
    NAME "Objet protégé - Haie"
    EXPRESSION /7901/
    STYLE
      OUTLINECOLOR 0 155 0
      WIDTH 2
    END
  END
  CLASS
    NAME "Objet protégé - Mur de pierres sèches"
    EXPRESSION /7902/
    STYLE
      OUTLINECOLOR 180 100 100
      WIDTH 2
    END
  END
  CLASS
    NAME "Objet protégé - Allée d'arbres"
    EXPRESSION /7903/
    STYLE
      OUTLINECOLOR 0 90 0
      WIDTH 2
    END
  END
  CLASS
    NAME "Objet protégé 2 - Haie"
    EXPRESSION /7904/
    STYLE
      OUTLINECOLOR 0 190 0
      WIDTH 2
    END
  END
  CLASS
    NAME "Objet protégé 2 - Mur de pierres sèches"
    EXPRESSION /7905/
    STYLE
      OUTLINECOLOR 140 80 80
      WIDTH 2
    END
  END
  CLASS
    NAME "Autre"  
    EXPRESSION /./
    STYLE
      OUTLINECOLOR 0 0 0
      WIDTH 3
    END
  END
END

LAYER
  NAME "r73_perimetres_superposes"
  TYPE LINE
   METADATA
       "ows_title"                  "r73_perimetres_superposes"
       "wms_srs"                   "epsg:2056"
       "wms_title"                  "${vars:instanceid} WMS Server"
       "wms_onlineresource"    "http://${vars:host}/${vars:instanceid}/wmscrdppf"
       "wms_srs"                   "epsg:2056" 
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from crdppf.r73_perimetres_superposes using unique idobj using srid=2056"
  STATUS ON
  CLASSITEM "codegenre" 
  OPACITY 90
  TEMPLATE "ttt"
  CLASS
    NAME "Perim. plan spéc. en vigueur"
    EXPRESSION /6101/
    STYLE
      OUTLINECOLOR 255 0 255
      COLOR 0 255 0
      WIDTH 5
    END
  END
  CLASS
    NAME "Perim. plan spéc. obl. pas en vigueur"
    EXPRESSION /6201/
    STYLE
      OUTLINECOLOR 255 0 255
      COLOR 255 0 0
      WIDTH 5
    END
  END
  CLASS
    NAME "Perim. étape équipement différée"
    EXPRESSION /6301/
    STYLE
      OUTLINECOLOR 255 0 255
      COLOR 0 0 255
      WIDTH 5
    END
  END
  CLASS
    NAME "Objet protégé - Bosquet"
    EXPRESSION /6901/
    STYLE
      OUTLINECOLOR 0 155 0
      COLOR 0 155 0
      WIDTH 2
    END
  END
  CLASS
    NAME "Objet protégé - Doline"
    EXPRESSION /6902/
    STYLE
      OUTLINECOLOR 150 0 0
      COLOR 150 0 0
      WIDTH 2
    END
  END
    CLASS
    NAME "Objet protégé - Surface eau"
    EXPRESSION /6903/
    STYLE
      OUTLINECOLOR 0 0 255
      COLOR 0 0 255
      WIDTH 2
    END
  END
  CLASS
    NAME "Secteur de sites éoliens"
    EXPRESSION /6904/
    STYLE
        PATTERN 6 12 END
        OUTLINECOLOR 0 0 220
        WIDTH 4
    END
  END
  CLASS
    NAME "Périmètre soumis à PD"
    EXPRESSION /6905/
    STYLE
        PATTERN 6 10 END
        OUTLINECOLOR 0 0 0
        WIDTH 3
    END
  END
  CLASS
    NAME "Périmètre PD en vigueur"
    EXPRESSION /6906/
    STYLE
        PATTERN 6 4 END
        OUTLINECOLOR 0 0 0
        WIDTH 3
    END
  END
  CLASS
    NAME "Périmètre soumis à PDQ"
    EXPRESSION /6907/
    STYLE
        PATTERN 15 15 END
        OUTLINECOLOR 0 0 0
        WIDTH 4
    END
  END
  CLASS
    NAME "Périmètre  PDQ en vigueur"
    EXPRESSION /6908/
    STYLE
        PATTERN 15 7 END
        OUTLINECOLOR 0 0 0
        WIDTH 4
    END
  END
  CLASS
    NAME "Périmètre soumis à PQ"
    EXPRESSION /6909/
    STYLE
        PATTERN 15 15 END
        OUTLINECOLOR 0 0 0        
        WIDTH 2
    END
  END
  CLASS
    NAME "Périmètre PQ en vigueur"
    EXPRESSION /6910/
    STYLE
        PATTERN 15 7 END
        OUTLINECOLOR 0 0 0
        WIDTH 2
    END
  END
  CLASS
    NAME "Périmètre de plan spécial"
    EXPRESSION /6911/
    STYLE
        PATTERN 15 3 3 3 END
        OUTLINECOLOR 0 0 0        
        WIDTH 2
    END
  END
  CLASS
    NAME "Objet protégé 2 - Verger"
    EXPRESSION /6912/
    STYLE
      OUTLINECOLOR 0 180 0
      COLOR 0 220 0
      WIDTH 2
    END
  END
  CLASS
    NAME "Objet protégé 2 - Bosquet"
    EXPRESSION /6913/
    STYLE
      OUTLINECOLOR 0 155 0
      COLOR 0 155 0
      WIDTH 2
    END
  END
  CLASS
    NAME "Objet protégé 2 - Doline"
    EXPRESSION /6914/
    STYLE
      OUTLINECOLOR 150 0 0
      COLOR 150 0 0
      WIDTH 2
    END
  END
  CLASS
    NAME "Secteur indicatif de dangers -Glissements"
    EXPRESSION ([codegenre] = 6915 AND '[teneur]' eq 'Glissements')
    OUTLINECOLOR 255 190 189
  END
  CLASS
    NAME "Secteur indicatif de dangers -Phénomènes rocheux"
    EXPRESSION ([codegenre] = 6915 AND '[teneur]' eq 'Phénomènes rocheux')
    OUTLINECOLOR 255 255 189
  END
  CLASS
    NAME "Secteur indicatif de dangers -Lave torrentielle"
    EXPRESSION ([codegenre] = 6915 AND '[teneur]' eq 'Lave torrentielle')
    OUTLINECOLOR 189 255 190
  END
  CLASS
    NAME "Secteur indicatif de dangers -Inondation"
    EXPRESSION ([codegenre] = 6915 AND '[teneur]' eq 'Inondation')
    OUTLINECOLOR 189 190 255
  END
  CLASS
    NAME "Autre"
    EXPRESSION /./
    STYLE
      OUTLINECOLOR 240 240 0
      COLOR 0 0 0
      WIDTH 4
    END
  END
END

LAYER
  NAME "r73_zones_superposees"
  TYPE POLYGON
   METADATA
       "ows_title" "r73_zones_superposees"
       "wms_srs" "epsg:2056"
       "wms_title"           "${vars:instanceid} WMS Server"
       "wms_onlineresource" "http://${vars:host}/${vars:instanceid}/wmscrdppf"
       "wms_srs"            "epsg:2056" 
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from crdppf.r73_zones_superposees using unique idobj using srid=2056"
  STATUS ON
  CLASSITEM "codegenre" 
  OPACITY 90
  TEMPLATE "ttt"
  CLASS
    NAME "Périmètre protection site bâti"
    EXPRESSION /5101/
    SYMBOL "pointilles2"
    SIZE 4
    OUTLINECOLOR 255 0 0
  END
  CLASS
    NAME "Zone de crêtes et forêts"
    EXPRESSION /5201/
    COLOR 255 255 0
    OUTLINECOLOR 0 0 0
  END
  CLASS
    NAME "Zone de vignes et grèves"
    EXPRESSION /5202/
    COLOR 0 255 0
    OUTLINECOLOR 0 0 0
  END
  CLASS
    NAME "Réserve naturelle"
    EXPRESSION /5203/
     STYLE
        OUTLINECOLOR 80 90 10
     END
     STYLE
        SYMBOL "hachure3"
        SIZE 3
        COLOR 135 145 45
     END    
  END
  CLASS
    NAME "Biotope cantonal"
    EXPRESSION /5204/
    COLOR 135 145 45
    OUTLINECOLOR 80 90 10
  END
  CLASS
    NAME "Périmètres site marécageux"
    EXPRESSION /5205/
    STYLE
      OUTLINECOLOR 132 132 0
      WIDTH 3
    END
  END
  CLASS
    NAME "Périmètres paysages protégés"
    EXPRESSION /5206/
    STYLE
      WIDTH 3
      OUTLINECOLOR 40 100 40
    END
  END
  CLASS
    NAME "Danger élevé"
    EXPRESSION /5304/
    COLOR 255 0 0
  END
  CLASS
    NAME "Danger moyen"
    EXPRESSION /5303/
    COLOR 0 0 255
  END
  CLASS
    NAME "Danger faible"
    EXPRESSION /5302/
    COLOR 255 255 0
  END
  CLASS
    NAME "Danger résiduel"
    EXPRESSION /5301/
    STYLE
      COLOR 255 255 0
    END
    STYLE
      SYMBOL "hachure7"
    END
  END
  CLASS
    NAME "Protection rives"
    EXPRESSION /5901/
    COLOR 135 145 45
    OUTLINECOLOR 80 90 10
  END
  CLASS
    NAME "Zones réservées"
    EXPRESSION /5903/
    STYLE
      OUTLINECOLOR 0 0 0
      WIDTH 1
    END
    STYLE
      SYMBOL "hachure6"
      COLOR 0 0 0
      SIZE 5
    END
  END
  CLASS
    NAME "Autre"
    EXPRESSION /./
    COLOR 0 0 0
    OUTLINECOLOR 0 0 0
  END
END

LAYER
  NAME "r73_affectations_primaires"
  TYPE POLYGON
   METADATA
       "ows_title" "r73_affectations_primaires"
       "wms_srs" "epsg:2056"
       "wms_title"           "${vars:instanceid} WMS Server"
       "wms_onlineresource" "http://${vars:host}/${vars:instanceid}/wmscrdppf"
       "wms_srs"            "epsg:2056" 
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from crdppf.r73_affectations_primaires using unique idobj using srid=2056"
  STATUS ON
  CLASSITEM "codegenre" 
  OPACITY 50
  TEMPLATE "ttt"
  CLASS
    NAME "Faible densité"
    EXPRESSION /1101/
    COLOR 255 236 176
  END
  CLASS
    NAME "Résidentielle densifiée"
    EXPRESSION /1102/
    COLOR 255 216 96
  END
  CLASS
    NAME "Moyenne densité"
    EXPRESSION /1103/
    COLOR 240 180 0
  END
  CLASS
    NAME "Forte densité"
    EXPRESSION /1104/
    COLOR 255 0 0
  END
  CLASS
    NAME "Chalets"
    EXPRESSION /1105/
    COLOR 255 255 144
  END
  CLASS
    NAME "Constructions basses"
    EXPRESSION /1106/
    COLOR 255 0 0
    OUTLINECOLOR 0 0 0
  END
  CLASS
    NAME "Plan spécial a"
    EXPRESSION /1107/
    STYLE
      SYMBOL 'circle'
      COLOR 255 0 0
      SIZE 3
    END
  END
  CLASS
    NAME "Zone spéciale a"
    EXPRESSION /1108/
    COLOR 128 128 128
  END
  CLASS
    NAME "Activités économiques"
    EXPRESSION /1201/
    COLOR 128 0 128
  END
  CLASS
    NAME "Artisanale"
    EXPRESSION /1202/
    COLOR 255 128 255
  END
  CLASS
    NAME "Commerciale"
    EXPRESSION /1203/
    COLOR 255 0 255
  END
  CLASS
    NAME "Activités économiques"
    EXPRESSION /1204/
    COLOR 128 0 128
  END
  CLASS
    NAME "Industrielle"
    EXPRESSION /1205/
    COLOR 0 0 128
  END
  CLASS
    NAME "Mixte"
    EXPRESSION /1301/
    STYLE
      COLOR 255 0 255
      SYMBOL 'circle'
      SIZE 3
    END
  END
  CLASS
    NAME "Ancienne localité"
    EXPRESSION /1401/
    COLOR 112 0 0
  END
  CLASS
    NAME "Ville en damier"
    EXPRESSION /1402/
    COLOR 112 0 0
  END
  CLASS
    NAME "Centre ville"
    EXPRESSION /1403/
    COLOR 224 56 0
  END
  CLASS
    NAME "Utilité publique"
    EXPRESSION /1501/
    COLOR 176 176 176
  END
  CLASS
    NAME "Sports,détente et loisir"
    EXPRESSION /1502/
    COLOR 0 255 255
  END
  CLASS
    NAME "Prot. ancienne localité"
    EXPRESSION /1601/
    COLOR 255 152 48
  END
  CLASS
    NAME "Protection patrimoine"
    EXPRESSION /1602/
    COLOR 192 144 0
  END
  CLASS
    NAME "Fermes"
    EXPRESSION /1603/
    COLOR 176 176 0
  END  
  CLASS
    NAME "Verdure"
    EXPRESSION /1604/
    COLOR 0 255 0
  END
  CLASS
    NAME "Tourisme"
    EXPRESSION /1701/
    COLOR 128 171 255
  END
  CLASS
    NAME "Aérodrome"
    EXPRESSION /1801/
    COLOR 192 192 255
  END
  CLASS
    NAME "Agricole"
    EXPRESSION /2101/
  END
  CLASS
    NAME "Zones viticoles"
    EXPRESSION /2301/
    STYLE
      COLOR 135 0 135
      OUTLINECOLOR 128 0 128
      SYMBOL 9
      SIZE 3
    END 
  END
  CLASS
    NAME "Zone de protection 1"
    EXPRESSION /3101/
    COLOR 0 128 0
  END
  CLASS
    NAME "Haut-marais"
    EXPRESSION /3102/
    COLOR 135 145 45
    OUTLINECOLOR 135 145 45
  END
  CLASS
    NAME "Bas-marais"
    EXPRESSION /3103/
    COLOR 135 145 45
    OUTLINECOLOR 135 145 45
  END
  CLASS
    NAME "Bas-marais / Zone alluviale"
    EXPRESSION /3104/
    COLOR 135 145 45
    OUTLINECOLOR 135 145 45
  END
  CLASS
    NAME "Terrain agricole inclu dans biotope marécageux"
    EXPRESSION /3105/
    COLOR 132 132 0
    OUTLINECOLOR 132 132 0
    SYMBOL 'triangle'
    SIZE 4
  END
  CLASS
    NAME "Zone-tampon"
    EXPRESSION /3106/
    COLOR  160 153 78
    OUTLINECOLOR 160 153 78
    STYLE
        SYMBOL hachure
        COLOR 135 145 45
        ANGLE 0
        SIZE 5
    END
    STYLE
        SYMBOL hachure
        COLOR 135 145 45
        ANGLE 90
        SIZE 5
    END
  END
  CLASS
    NAME "Zone de protection"
    EXPRESSION /3107/
    COLOR 0 128 0
  END
  CLASS
    NAME "Hameau"
    EXPRESSION /4101/
    COLOR 112 112 0
  END
  CLASS
    NAME "Utilisation différée"
    EXPRESSION /4301/
    STYLE
      SYMBOL 'circle'
      COLOR 0 0 0
      SIZE 3
    END
  END
  CLASS
    NAME "Sports,détente et loisir"
    EXPRESSION /4901/
    COLOR 0 255 255
  END
  CLASS
    NAME "Militaire"
    EXPRESSION /4902/
    COLOR 0 128 128
  END
  CLASS
    NAME "Traitement déchets"
    EXPRESSION /4903/
    COLOR 208 156 0
  END
  CLASS
    NAME "Décharge"
    EXPRESSION /4904/
    COLOR 144 108 0
  END
  CLASS
    NAME "Extraction"
    EXPRESSION /4905/
    COLOR 96 72 0
  END
  CLASS
    NAME "Plan spécial b"
    EXPRESSION /4906/
    STYLE
      SYMBOL 'circle'
      COLOR 255 0 0
      SIZE 3
    END
  END
  CLASS
    NAME "Zone spéciale b"
    EXPRESSION /4907/
    COLOR 128 128 128
  END
  CLASS
    NAME "autre"
    EXPRESSION /./
    COLOR 0 0 0
    OUTLINECOLOR 255 0 255
    SIZE 5
  END
END

LAYER
  NAME "r87_astra_projektierungszonen_nationalstrassen"
  STATUS ON
  METADATA
       "ows_title"                      "r87_astra_projektierungszonen_nationalstrassen"
       "wms_srs"                    "epsg:2056"
       "wms_title"                      "${vars:instanceid} WMS Server"
       "wms_onlineresource"     "http://${vars:host}/${vars:instanceid}/wmscrdppf"
       "wms_srs"                    "epsg:2056" 
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from crdppf.r87_astra_projektierungszonen_nationalstrassen using unique idobj using srid=2056"
  TYPE POLYGON
  TEMPLATE "ttt"
  OPACITY 60
  CLASS
    NAME "Zones réservées des routes nationales"
    COLOR 0 220 220
    OUTLINECOLOR 0 180 180
   END
END

LAYER
  NAME "r96_bav_projektierungszonen_eisenbahnanlagen"
  STATUS ON
  METADATA
       "ows_title"                      "r96_bav_projektierungszonen_eisenbahnanlagen"
       "wms_srs"                    "epsg:2056"
       "wms_title"                      "${vars:instanceid} WMS Server"
       "wms_onlineresource"     "http://${vars:host}/${vars:instanceid}/wmscrdppf"
       "wms_srs"                    "epsg:2056" 
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from crdppf.r96_bav_projektierungszonen_eisenbahnanlagen using unique idobj using srid=2056"
  TYPE POLYGON
  TEMPLATE "ttt"
  OPACITY 60
  CLASS
    NAME "Zones réservées des inst. ferrovières"
    COLOR 220 220 0
    OUTLINECOLOR 180 180 0
   END
END

LAYER
  NAME "r97_bav_baulinien_eisenbahnanlagen"
  STATUS ON
  METADATA
       "ows_title"                      "r97_bav_baulinien_eisenbahnanlagen"
       "wms_srs"                    "epsg:2056"
       "wms_title"                      "${vars:instanceid} WMS Server"
       "wms_onlineresource"     "http://${vars:host}/${vars:instanceid}/wmscrdppf"
       "wms_srs"                    "epsg:2056" 
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from crdppf.r97_bav_baulinien_eisenbahnanlagen using unique idobj using srid=2056"
  TYPE LINE
  TEMPLATE "ttt"
  OPACITY 60
  CLASS
    NAME "Aligenements des install. ferrovières"
    COLOR 220 220 0
   END
END

LAYER
  NAME "r103_bazl_projektierungszonen_flughafenanlagen"
  STATUS ON
  METADATA
       "ows_title"                      "r103_bazl_projektierungszonen_flughafenanlagen"
       "wms_srs"                    "epsg:2056"
       "wms_title"                      "${vars:instanceid} WMS Server"
       "wms_onlineresource"     "http://${vars:host}/${vars:instanceid}/wmscrdppf"
       "wms_srs"                    "epsg:2056" 
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from crdppf.r103_bazl_projektierungszonen_flughafenanlagen using unique idobj using srid=2056"
  TYPE POLYGON
  TEMPLATE "ttt"
  OPACITY 60
  CLASS
    NAME "Zones rés. des install. aéroportuaires"
    COLOR 255 230 180
    OUTLINECOLOR 255 170 0
   END
END

LAYER
  NAME "r104_bazl_baulinien_flughafenanlagen"
  STATUS ON
  METADATA
       "ows_title"                      "r104_bazl_baulinien_flughafenanlagen"
       "wms_srs"                    "epsg:2056"
       "wms_title"                      "${vars:instanceid} WMS Server"
       "wms_onlineresource"     "http://${vars:host}/${vars:instanceid}/wmscrdppf"
       "wms_srs"                    "epsg:2056" 
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from crdppf.r104_bazl_baulinien_flughafenanlagen using unique idobj using srid=2056"
  TYPE LINE
  TEMPLATE "ttt"
  OPACITY 60
  CLASS
    NAME "Aligenements des install. aéroportuaires"
    COLOR 0 0 180
   END
END

LAYER
  NAME "r108_bazl_sicherheitszonenplan"
  STATUS ON
  METADATA
       "ows_title"                      "r108_bazl_sicherheitszonenplan"
       "wms_srs"                    "epsg:2056"
       "wms_title"                      "${vars:instanceid} WMS Server"
       "wms_onlineresource"     "http://${vars:host}/${vars:instanceid}/wmscrdppf"
       "wms_srs"                    "epsg:2056" 
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from crdppf.r108_bazl_sicherheitszonenplan using unique idobj using srid=2056"
  TYPE POLYGON
  TEMPLATE "ttt"
  OPACITY 60
  CLASS
    NAME "Zone de sécurité aéroportuaire"
    COLOR 200 70 255
    OUTLINECOLOR 192 0 192
   END
END

LAYER
  STATUS ON
  NAME "r116_sites_pollues"
  METADATA
       "ows_title"                      "r116_sites_pollues"
       "wms_srs"                    "epsg:2056"
       "wms_title"                      "${vars:instanceid} WMS Server"
       "wms_onlineresource"     "http://${vars:host}/${vars:instanceid}/wmscrdppf"
       "wms_srs"                    "epsg:2056" 
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from crdppf.r116_sites_pollues using unique idobj using srid=2056"
  TYPE POLYGON
  CLASSITEM "codegenre"
  TEMPLATE "ttt"
  OPACITY 60
  CLASS
    NAME "Sites pollués - accidents "
    EXPRESSION /9901/
    COLOR  140 0 0
    OUTLINECOLOR 140 0 0
  END
  CLASS
    NAME "Sites pollués - décharges"
    EXPRESSION /9902/
    COLOR 200 130 0
    OUTLINECOLOR 200 130 0
   END
   CLASS
    NAME "Sites pollués - entreprises"
    EXPRESSION /9903/
    COLOR 0 0 255
    OUTLINECOLOR 0 0 255
   END
END

LAYER
  STATUS ON
  NAME "r118_bazl_belastete_standorte_zivilflugplaetze_pts"
  GROUP "r118_bazl_belastete_standorte_zivilflugplaetze"
  METADATA
       "ows_title"                   "r118_bazl_belastete_standorte_zivilflugplaetze_pts"
       "wms_srs"                    "epsg:2056"
       "wms_title"                  "${vars:instanceid} WMS Server"
       "wms_onlineresource"    "http://${vars:host}/${vars:instanceid}/wmscrdppf"
       "wms_srs"                   "epsg:2056" 
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from (
    select *
    from crdppf.r118_bazl_belastete_standorte_zivilflugplaetze 
    WHERE  st_geometrytype(geom) like 'ST_Point'  
    ) as foo using unique idobj using srid=2056"
  TYPE POINT
  TEMPLATE "ttt"
  OPACITY 60
   CLASS
    NAME "Sites pollués - domaine des aérodromes civils"
    SYMBOL "circle"
    COLOR 255 255 0
    OUTLINECOLOR 0 0 0
    SIZE 6
   END
  MAXSCALEDENOM 100000
END

LAYER
  STATUS ON
  NAME "r118_bazl_belastete_standorte_zivilflugplaetze_poly"
  GROUP "r118_bazl_belastete_standorte_zivilflugplaetze"
  METADATA
       "ows_title"                   "r118_bazl_belastete_standorte_zivilflugplaetze_poly"
       "wms_srs"                    "epsg:2056"
       "wms_title"                  "${vars:instanceid} WMS Server"
       "wms_onlineresource"    "http://${vars:host}/${vars:instanceid}/wmscrdppf"
       "wms_srs"                   "epsg:2056" 
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from crdppf.r118_bazl_belastete_standorte_zivilflugplaetze using unique idobj using srid=2056"
  TYPE POLYGON
  TEMPLATE "ttt"
  OPACITY 60
   CLASS
    NAME "Sites pollués - domaine des aérodromes civils"
    COLOR 255 255 0
    OUTLINECOLOR 0 0 0
   END
  MAXSCALEDENOM 100000
END

LAYER
  STATUS ON
  NAME "r119_bav_belastete_standorte_oev"
  METADATA
       "ows_title"                   "r119_bav_belastete_standorte_oev"
       "wms_srs"                    "epsg:2056"
       "wms_title"                  "${vars:instanceid} WMS Server"
       "wms_onlineresource"    "http://${vars:host}/${vars:instanceid}/wmscrdppf"
       "wms_srs"                   "epsg:2056" 
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from crdppf.r119_bav_belastete_standorte_oev using unique idobj using srid=2056"
  TYPE POLYGON
  TEMPLATE "ttt"
  OPACITY 60
   CLASS
    NAME "Sites pollués - domaine transports publics"
    COLOR 255 255 0
    OUTLINECOLOR 0 0 0
   END
END

LAYER
  NAME "r131_zone_prot_eau"
  STATUS ON
  METADATA
       "ows_title"                   "r131_zone_prot_eau"
       "wms_srs"                    "epsg:2056"
       "wms_title"                  "${vars:instanceid} WMS Server"
       "wms_onlineresource"    "http://${vars:host}/${vars:instanceid}/wmscrdppf"
       "wms_srs"                   "epsg:2056" 
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from crdppf.r131_zone_prot_eau using unique idobj using srid=2056"
  TYPE POLYGON
  TEMPLATE "ttt"
  OPACITY 60
  CLASSITEM "teneur"
  CLASS
    NAME "Zone S1"
    EXPRESSION /S1/
    COLOR 255 0 0
    OUTLINECOLOR 255 0 0
  END
  CLASS
    NAME "Zone S2"
    EXPRESSION /S2/
    COLOR 255 152 48
    OUTLINECOLOR 0 0 0
  END
  CLASS
    NAME "S2 à efficacité limitée"
    EXPRESSION /S2EL/
    COLOR 255 196 176
    OUTLINECOLOR 0 0 0
  END
  CLASS
    NAME "Zone S3"
    EXPRESSION /S3/
    COLOR 255 255 0
    OUTLINECOLOR 0 0 0
  END
  CLASS
    NAME "Aire Zu"
    EXPRESSION /A. ZU/
    COLOR 192 128 255
    OUTLINECOLOR 0 0 0
  END
END

LAYER
  NAME "r132_perimetre_prot_eau"
  STATUS ON
  METADATA
       "ows_title"                   "r132_perimetre_prot_eau"
       "wms_srs"                    "epsg:2056"
       "wms_title"                  "${vars:instanceid} WMS Server"
       "wms_onlineresource"    "http://${vars:host}/${vars:instanceid}/wmscrdppf"
       "wms_srs"                   "epsg:2056" 
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from crdppf.r132_perimetre_prot_eau using unique idobj using srid=2056"
  TYPE POLYGON
  TEMPLATE "ttt"
  OPACITY 60
  CLASSITEM "teneur"
  CLASS
    NAME "ÜB"
    EXPRESSION /ÜB/
    STYLE
      OUTLINECOLOR 0 180 0
      WIDTH 2
    END
  END
  CLASS
    NAME "secteur Ao et Au"
    EXPRESSION /./
    COLOR 0 0 255
    OUTLINECOLOR 0 0 0
  END
END

LAYER
 NAME "r145_sens_bruit"
  TYPE POLYGON
   METADATA
       "ows_title" "r145_sens_bruit"
       "wms_srs" "epsg:2056"
       "wms_title"           "${vars:instanceid} WMS Server"
       "wms_onlineresource" "http://${vars:host}/${vars:instanceid}/wmscrdppf"
       "wms_srs"            "epsg:2056"
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from crdppf.r145_sens_bruit using unique idobj using srid=2056"
  STATUS ON
  CLASSITEM "teneur" 
  OPACITY 50
  TEMPLATE "ttt"
  CLASS
    NAME "IV"
    EXPRESSION /DS IV/
    COLOR 0 0 255
    OUTLINECOLOR 0 0 0
  END
  CLASS
    NAME "III"
    EXPRESSION /DS III/
    COLOR 255 0 0
    OUTLINECOLOR 0 0 0
  END
  CLASS
    NAME "II"
    EXPRESSION /DS II/
    COLOR 0 130 0
    OUTLINECOLOR 0 0 0
  END
  CLASS
    NAME "I"
    EXPRESSION /DS I/
    COLOR 255 255 148
    OUTLINECOLOR 0 0 0
  END
END

LAYER
  NAME "r157_lim_foret"
  TYPE LINE
  METADATA
       "ows_title" "r157_lim_foret"
       "wms_srs"                    "epsg:2056"
       "wms_title"                      "${vars:instanceid} WMS Server"
       "wms_onlineresource"     "http://${vars:host}/${vars:instanceid}/wmscrdppf"
       "wms_srs"                    "epsg:2056" 
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from crdppf.r157_lim_foret using unique idobj using srid=2056"
  STATUS ON
  TEMPLATE "ttt"
  CLASSITEM "teneur"
  CLASS
    NAME "Limite légale de forêt"
    EXPRESSION /./
    STYLE
        PATTERN 4 4 END
        WIDTH 2
        COLOR 0 140 0
    END
  END
  TOLERANCE 5
  TOLERANCEUNITS pixels
END

LAYER
  NAME "r159_dist_foret"
  TYPE LINE
  METADATA
       "ows_title" "r159_dist_foret"
       "wms_srs"                    "epsg:2056"
       "wms_title"                      "${vars:instanceid} WMS Server"
       "wms_onlineresource"     "http://${vars:host}/${vars:instanceid}/wmscrdppf"
       "wms_srs"                    "epsg:2056" 
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from crdppf.r159_dist_foret using unique idobj using srid=2056"
  STATUS ON
  TEMPLATE "ttt"
  TOLERANCE 5
  TOLERANCEUNITS pixels
  CLASSITEM "codegenre"
  CLASS
    NAME "Distance légale à la forêt"
    EXPRESSION /7104/
    STYLE
        PATTERN 4 4 END
        WIDTH 2
        COLOR 0 0 140
    END
  END
END

#####################
# RESTRICTIONS CRDPPF - fin
#####################


#####################
# Aménagement
#####################

LAYER
  NAME "la3_limites_communales"
  TYPE POLYGON
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from general.la3_limites_communales using unique numcom using srid=2056"
  STATUS ON
  CLASS
    NAME "Limites communales"
    STYLE
      OUTLINECOLOR 90 90 90
    END 
  END
  METADATA
    "ows_title" "la3_limites_communales"
    "wms_srs" "epsg:2056"
  END
  PROJECTION
    "init=epsg:2056"   ##required
  END
END

LAYER
  NAME "at23_perimetres_archeologiques"
  TYPE POLYGON
  METADATA
       "ows_title" "at23_perimetres_archeologiques"
       " wms_srs" "epsg:2056"
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from amenagement.at23_perimetres_archeologiques using unique idobj using srid=2056"
  STATUS ON
  TEMPLATE "ttt"
  CLASS
    NAME "Périmètres archéologiques"
    SYMBOL "pointilles2"
    SIZE 4	
    OUTLINECOLOR 0 0 0
  END
  MAXSCALEDENOM 200000
END

LAYER
  NAME "at24_perimetres_tir"
  TYPE POLYGON
  METADATA
       "ows_title" "at24_perimetres_tir"
       " wms_srs" "epsg:2056"
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from amenagement.at24_perimetres_tir using unique idobj using srid=2056"
  STATUS ON
  TEMPLATE "ttt"
  CLASS
    NAME "Périmètres de tir"
    STYLE
        OUTLINECOLOR 0 0 0
        PATTERN 7 4 7 4 3 4 3 4 3 4 END
        WIDTH 3
    END
  END
END

LAYER
 NAME "clo_couloirs"
  TYPE POLYGON
  METADATA
       "ows_title" "clo_couloirs"
       " wms_srs" "epsg:2056"
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from amenagement.clo_couloirs using unique idobj using srid=2056"
  STATUS ON
  TEMPLATE "ttt"
  CLASS
    NAME "Couloirs lim. obstacles"
    STYLE
        OUTLINECOLOR 255 0 0
        SYMBOL points3
        SIZE 5
    END
  END
  MINSCALEDENOM 0
  MAXSCALEDENOM 101000
END

LAYER
 NAME "clo_cotes_altitude_surfaces"
  TYPE POLYGON
  METADATA
       "ows_title" "clo_cotes_altitude_surfaces"
       " wms_srs" "epsg:2056"
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from amenagement.clo_cotes_altitude_surfaces using unique idobj using srid=2056"
  STATUS ON
  TEMPLATE "ttt" 
  LABELITEM "cote_alt_obstacles_maximum"
  CLASS
    NAME "Cote altitude surfaces"
    STYLE
        OUTLINECOLOR 255 0 0
        WIDTH 1.0
        PATTERN 3 3 END
    END
    LABEL
      TYPE TRUETYPE
      FONT verdana
      SIZE 8
      ANTIALIAS TRUE
      COLOR 255 0 0
      OUTLINECOLOR 255 255 255
      MINFEATURESIZE 50
    END
  END
  MINSCALEDENOM 0
  MAXSCALEDENOM 101000
END

#####################
# Environnement
#####################

LAYER
 NAME "ex01_cours_eau"
  TYPE LINE
  METADATA
       "ows_title" "ex01_cours_eau"
       " wms_srs" "epsg:2056"
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from environnement.ex01_cours_eau using unique idobj using srid=2056"
  STATUS ON
  TEMPLATE "ttt"
  CLASS
    NAME "Cours eau"
    STYLE
      WIDTH 2
      COLOR 0 0 255
    END
  END
  MINSCALEDENOM 500
END

#####################
# Mensuration
#####################

LAYER
 NAME "batiments_ofs"
  TYPE POINT
  METADATA
       "ows_title" "batiments_ofs"
       " wms_srs" "epsg:2056"
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from batiments_ofs using unique egid using srid=2056"
  STATUS ON
  TEMPLATE "ttt"
  LABELITEM "egid"
  CLASS
    NAME "Bât. fédéraux (EGID)"
    SYMBOL "circle"
    SIZE 3
    COLOR 128 0 0
    LABEL
      TYPE TRUETYPE
      FONT arialbd
      SIZE 8
      ANTIALIAS TRUE
      COLOR 128 0 0
      OUTLINECOLOR 255 255 255
      POSITION uc 
    END
  END
  MINSCALEDENOM 0
  MAXSCALEDENOM 5001
  TOLERANCE 5
  TOLERANCEUNITS pixels
END

LAYER
 NAME "mo_distr_plans"
  TYPE POLYGON
  METADATA
       "ows_title" "mo_distr_plans"
       " wms_srs" "epsg:2056"
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from mensuration.mo_distr_plans using unique idobj using srid=2056"
  STATUS ON
  TEMPLATE "ttt"
  LABELITEM "planno"
  CLASS
    NAME "Distributions des plans"
    STYLE
      OUTLINECOLOR 140 40 40
      WIDTH 3
    END
    LABEL
        TYPE TRUETYPE
        FONT verdana
        MAXSIZE 9
        SIZE 8
        MINSIZE 7
        ANGLE AUTO
        ANTIALIAS TRUE
        COLOR 140 40 40
        STYLE
            GEOMTRANSFORM 'labelpoly'
            COLOR 255 255 255
        END
    END
  END
  MINSCALEDENOM 0
  MAXSCALEDENOM 30000
END

LAYER
 NAME "mo25_noms_locaux"
  TYPE POLYGON
  METADATA
       "ows_title" "mo25_noms_locaux"
       " wms_srs" "epsg:2056"
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from mensuration.mo25_noms_locaux using unique idobj using srid=2056"
  STATUS ON
  TEMPLATE "ttt"
  MINSCALEDENOM 0
  MAXSCALEDENOM 150000
  OPACITY 50
  CLASSITEM "noclass"
  LABELITEM "nomloc"
  LABELMINSCALE 7000
  LABELMAXSCALE 30000
  CLASS
    EXPRESSION ([noclass]=1)
    COLOR 176 255 176
    LABEL
        TYPE TRUETYPE
        FONT arialbd
        MAXSIZE 10
        SIZE 8
        MINSIZE 7
        ANTIALIAS TRUE
        COLOR 0 0 0
        OUTLINECOLOR 255 255 255
    END
  END
  CLASS
    EXPRESSION ([noclass]=2)
    COLOR 255 232 208 
    LABEL
        TYPE TRUETYPE
        FONT arialbd
        MAXSIZE 10
        SIZE 8
        MINSIZE 7
        ANTIALIAS TRUE
        COLOR 0 0 0
        OUTLINECOLOR 255 255 255
    END
  END
  CLASS
    EXPRESSION ([noclass]=3)
    COLOR 255 208 255 
    LABEL
        TYPE TRUETYPE
        FONT arialbd
        MAXSIZE 10
        SIZE 8
        MINSIZE 7
        ANTIALIAS TRUE
        COLOR 0 0 0
        OUTLINECOLOR 255 255 255
    END
  END
  CLASS
    EXPRESSION ([noclass]=4)
    COLOR 255 208 64 
    LABEL
        TYPE TRUETYPE
        FONT arialbd
        MAXSIZE 10
        SIZE 8
        MINSIZE 7
        ANTIALIAS TRUE
        COLOR 0 0 0
        OUTLINECOLOR 255 255 255
    END
  END
  CLASS
    EXPRESSION ([noclass]=5)
    COLOR 255 124 80 
    LABEL
        TYPE TRUETYPE
        FONT arialbd
        MAXSIZE 10
        SIZE 8
        MINSIZE 7
        ANTIALIAS TRUE
        COLOR 0 0 0
        OUTLINECOLOR 255 255 255
    END
  END
  CLASS
    EXPRESSION ([noclass]=6)
    COLOR 208 156 0 
    LABEL
        TYPE TRUETYPE
        FONT arialbd
        MAXSIZE 10
        SIZE 8
        MINSIZE 7
        ANTIALIAS TRUE
        COLOR 0 0 0
        OUTLINECOLOR 255 255 255
    END
  END
  CLASS
    EXPRESSION ([noclass]=7)
    COLOR 255 184 60 
    LABEL
        TYPE TRUETYPE
        FONT arialbd
        MAXSIZE 10
        SIZE 8
        MINSIZE 7
        ANTIALIAS TRUE
        COLOR 0 0 0
        OUTLINECOLOR 255 255 255
    END
  END
  CLASS
    EXPRESSION ([noclass]=8)
    COLOR 160 255 208 
    LABEL
        TYPE TRUETYPE
        FONT arialbd
        MAXSIZE 10
        SIZE 8
        MINSIZE 7
        ANTIALIAS TRUE
        COLOR 0 0 0
        OUTLINECOLOR 255 255 255
    END
  END
  CLASS
    EXPRESSION ([noclass]=9)
    COLOR 192 128 255 
    LABEL
        TYPE TRUETYPE
        FONT arialbd
        MAXSIZE 10
        SIZE 8
        MINSIZE 7
        ANTIALIAS TRUE
        COLOR 0 0 0
        OUTLINECOLOR 255 255 255
    END
  END
  CLASS
    EXPRESSION ([noclass]=10)
    COLOR 255 128 0 
    LABEL
        TYPE TRUETYPE
        FONT arialbd
        MAXSIZE 10
        SIZE 8
        MINSIZE 7
        ANTIALIAS TRUE
        COLOR 0 0 0
        OUTLINECOLOR 255 255 255
    END
  END
  CLASS
    EXPRESSION ([noclass]=11)
    COLOR 80 255 255 
    LABEL
        TYPE TRUETYPE
        FONT arialbd
        MAXSIZE 10
        SIZE 8
        MINSIZE 7
        ANTIALIAS TRUE
        COLOR 0 0 0
        OUTLINECOLOR 255 255 255
    END
  END
  CLASS
    EXPRESSION ([noclass]=12)
    COLOR 255 160 160 
    LABEL
        TYPE TRUETYPE
        FONT arialbd
        MAXSIZE 10
        SIZE 8
        MINSIZE 7
        ANTIALIAS TRUE
        COLOR 0 0 0
        OUTLINECOLOR 255 255 255
    END
  END
  CLASS
    EXPRESSION ([noclass]=13)
    COLOR 192 255 96 
    LABEL
        TYPE TRUETYPE
        FONT arialbd
        MAXSIZE 10
        SIZE 8
        MINSIZE 7
        ANTIALIAS TRUE
        COLOR 0 0 0
        OUTLINECOLOR 255 255 255
    END
  END
  CLASS
    EXPRESSION ([noclass]=14)
    COLOR 0 128 192 
    LABEL
        TYPE TRUETYPE
        FONT arialbd
        MAXSIZE 10
        SIZE 8
        MINSIZE 7
        ANTIALIAS TRUE
        COLOR 0 0 0
        OUTLINECOLOR 255 255 255
    END
  END
  CLASS
    EXPRESSION ([noclass]=15)
    COLOR 255 0 138 
    LABEL
        TYPE TRUETYPE
        FONT arialbd
        MAXSIZE 10
        SIZE 8
        MINSIZE 7
        ANTIALIAS TRUE
        COLOR 0 0 0
        OUTLINECOLOR 255 255 255
    END
  END
  CLASS
    EXPRESSION ([noclass]=16)
    COLOR 255 255 0 
    LABEL
        TYPE TRUETYPE
        FONT arialbd
        MAXSIZE 10
        SIZE 8
        MINSIZE 7
        ANTIALIAS TRUE
        COLOR 0 0 0
        OUTLINECOLOR 255 255 255
    END
  END
  CLASS
    EXPRESSION ([noclass]=17)
    COLOR 176 229 155 
    LABEL
        TYPE TRUETYPE
        FONT arialbd
        MAXSIZE 10
        SIZE 8
        MINSIZE 7
        ANTIALIAS TRUE
        COLOR 0 0 0
        OUTLINECOLOR 255 255 255
    END
  END
  CLASS
    EXPRESSION ([noclass]=18)
    COLOR 192 0 96 
    LABEL
        TYPE TRUETYPE
        FONT arialbd
        MAXSIZE 10
        SIZE 8
        MINSIZE 7
        ANTIALIAS TRUE
        COLOR 0 0 0
        OUTLINECOLOR 255 255 255
    END
  END
  CLASS
    EXPRESSION ([noclass]=19)
    COLOR 0 224 0 
    LABEL
        TYPE TRUETYPE
        FONT arialbd
        MAXSIZE 10
        SIZE 8
        MINSIZE 7
        ANTIALIAS TRUE
        COLOR 0 0 0
        OUTLINECOLOR 255 255 255
    END
  END
  CLASS
    EXPRESSION ([noclass]=20)
    COLOR 144 144 255 
    LABEL
        TYPE TRUETYPE
        FONT arialbd
        MAXSIZE 10
        SIZE 8
        MINSIZE 7
        ANTIALIAS TRUE
        COLOR 0 0 0
        OUTLINECOLOR 255 255 255
    END
  END
  CLASS
    EXPRESSION ([noclass]=21)
    COLOR 192 0 192
    LABEL
        TYPE TRUETYPE
        FONT arialbd
        MAXSIZE 10
        SIZE 8
        MINSIZE 7
        ANTIALIAS TRUE
        COLOR 0 0 0
        OUTLINECOLOR 255 255 255
    END
  END
  CLASS
    EXPRESSION ([noclass]=22)
    COLOR 255 152 48 
    LABEL
        TYPE TRUETYPE
        FONT arialbd
        MAXSIZE 10
        SIZE 8
        MINSIZE 7
        ANTIALIAS TRUE
        COLOR 0 0 0
        OUTLINECOLOR 255 255 255
    END
  END
  CLASS
    EXPRESSION ([noclass]=23)
    COLOR 0 128 192 
    LABEL
        TYPE TRUETYPE
        FONT arialbd
        MAXSIZE 10
        SIZE 8
        MINSIZE 7
        ANTIALIAS TRUE
        COLOR 0 0 0
        OUTLINECOLOR 255 255 255
    END
  END
  CLASS
    EXPRESSION ([noclass]=24)
    COLOR 255 64 0 
    LABEL
        TYPE TRUETYPE
        FONT arialbd
        MAXSIZE 10
        SIZE 8
        MINSIZE 7
        ANTIALIAS TRUE
        COLOR 0 0 0
        OUTLINECOLOR 255 255 255
    END
  END
  CLASS
    EXPRESSION ([noclass]=25)
    COLOR 0 255 0 
    LABEL
        TYPE TRUETYPE
        FONT arialbd
        MAXSIZE 10
        SIZE 8
        MINSIZE 7
        ANTIALIAS TRUE
        COLOR 0 0 0
        OUTLINECOLOR 255 255 255
    END
  END
  CLASS
    EXPRESSION ([noclass]=26)
    COLOR 255 0 255 
    LABEL
        TYPE TRUETYPE
        FONT arialbd
        MAXSIZE 10
        SIZE 8
        MINSIZE 7
        ANTIALIAS TRUE
        COLOR 0 0 0
        OUTLINECOLOR 255 255 255
    END
  END
  CLASS
    EXPRESSION ([noclass]=27)
    COLOR 192 192 0
    LABEL
        TYPE TRUETYPE
        FONT arialbd
        MAXSIZE 10
        SIZE 8
        MINSIZE 7
        ANTIALIAS TRUE
        COLOR 0 0 0
        OUTLINECOLOR 255 255 255
    END
  END
END

LAYER
 NAME "mo4_pfp_1_2"
  TYPE POINT
  METADATA
       "ows_title" "mo4_pfp_1_2"
       " wms_srs" "epsg:2056"
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from mensuration.mo4_pfp_1_2 using unique idobj using srid=2056"
  STATUS ON
  TEMPLATE "ttt"
  LABELITEM "nopoin"
  CLASS
    NAME "PFP1/2"
    STYLE    
        SYMBOL "triangle"
        SIZE 11
        COLOR 255 255 255 
    END
    STYLE    
        SYMBOL "triangle"
        SIZE 11
        OUTLINECOLOR 0 0 0
        WIDTH 1
    END
    STYLE    
        SYMBOL "triangle"
        SIZE 4.5
        COLOR 0 0 0
        OFFSET 0 1.5
    END
    LABEL
      TYPE TRUETYPE
      FONT arialn
      ANTIALIAS TRUE
      COLOR 0 0 0
      OUTLINECOLOR 255 255 255
      MAXSIZE 8
      SIZE 7
      MINSIZE 7
      POSITION auto
    END

  END
  MINSCALEDENOM 0
  MAXSCALEDENOM 100001
  TOLERANCE 5
  TOLERANCEUNITS pixels
END

LAYER
 NAME "mo4_pfp_3"
  TYPE POINT
  METADATA
       "ows_title" "mo4_pfp_3"
       " wms_srs" "epsg:2056"
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from mensuration.mo4_pfp_3 using unique idobj using srid=2056"
  STATUS ON
  TEMPLATE "ttt"
  CLASS
    NAME "PFP3"
    STYLE
    SYMBOL "circle"
    SIZE 10
    COLOR 255 255 255
    END
    STYLE
    SYMBOL "pfp_3"
    SIZE 10
    COLOR 0 0 0
    END
    MINSCALEDENOM 0
    MAXSCALEDENOM 7000
  END  
  TOLERANCE 5
  TOLERANCEUNITS pixels
END


LAYER
 NAME "mo4_pfa_1"
  TYPE POINT
  METADATA
       "ows_title" "mo4_pfa_1"
       " wms_srs" "epsg:2056"
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from mensuration.mo4_pfa_1 using unique idobj using srid=2056"
  STATUS ON
  CLASSITEM "valeur"
  TEMPLATE "ttt"
  CLASS
    NAME "PFA1"
    EXPRESSION /./
    STYLE
    SYMBOL "circle"
    SIZE 10
    COLOR 255 255 255
    OUTLINECOLOR 0 0 0
    END
    STYLE
    SYMBOL "circle"
    SIZE 5
    COLOR 0 0 0
    END
    MINSCALEDENOM 0
    MAXSCALEDENOM 100001
  END
  TOLERANCE 5
  TOLERANCEUNITS pixels
END

LAYER
 NAME "mo7_obj_divers_cordbois"
  TYPE POLYGON
  METADATA
       "ows_title" "mo7_obj_divers_cordbois"
       " wms_srs" "epsg:2056"
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from mensuration.mo7_obj_divers_cordbois using unique idobj using srid=2056"
  STATUS ON
  MINSCALEDENOM 0
  MAXSCALEDENOM 3001
  CLASS
    NAME "Cordons boises"
    STYLE
        PATTERN 7 7 END
        OUTLINECOLOR 130 130 130
        WIDTH 1
    END  
  END
END

LAYER
 NAME "mo7_obj_divers_piscine"
  TYPE POLYGON
  METADATA
       "ows_title" "mo7_obj_divers_piscine"
       " wms_srs" "epsg:2056"
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from mensuration.mo7_obj_divers_piscine using unique idobj using srid=2056"
  STATUS ON
  MINSCALEDENOM 0
  MAXSCALEDENOM 3001
  CLASS
    NAME "Piscines"
    STYLE
        OUTLINECOLOR 130 130 130
        PATTERN 5 5 END
        WIDTH 1
    END
  END
END

LAYER
 NAME "mo7_obj_divers_couvert"
  TYPE POLYGON
  METADATA
       "ows_title" "mo7_obj_divers_couvert"
       " wms_srs" "epsg:2056"
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from mensuration.mo7_obj_divers_couvert using unique idobj using srid=2056"
  STATUS ON
  MINSCALEDENOM 0
  MAXSCALEDENOM 3001
  CLASS
    NAME "Couverts"
    STYLE
        OUTLINECOLOR 130 130 130
        WIDTH 1.0
        PATTERN 3 3 END
    END
  END
END

LAYER
 NAME "mo7_obj_divers_lineaire"
  TYPE LINE
  METADATA
       "ows_title" "mo7_obj_divers_lineaire"
       " wms_srs" "epsg:2056"
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from mensuration.mo7_obj_divers_lineaire using unique idobj using srid=2056"
  STATUS ON
  MINSCALEDENOM 0
  MAXSCALEDENOM 3001
  CLASSITEM "penpatter"
  CLASS
    NAME "Non visible"
    EXPRESSION /5|9|15/
    STYLE
        PATTERN 7 7 END
        OUTLINECOLOR 130 130 130
        WIDTH 1
    END  
  END
  CLASS
    NAME "Linéaires"
    EXPRESSION /20/
    STYLE
        COLOR 255 255 255
        WIDTH 2
    END
    STYLE
        COLOR 0 0 0
        PATTERN 7 7 END
        WIDTH 0.75
    END
  END
  CLASS
    NAME "visible"
    EXPRESSION /./
    STYLE
      WIDTH 1
      COLOR 130 130 130
    END
  END
END

#######################################################################

LAYER
  NAME "mo14_servitudes_c_lig"
  TYPE LINE
  METADATA
       "ows_title" "mo14_servitudes_c_lig"
       " wms_srs" "epsg:2056"
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from mensuration.mo14_servitudes_c_lig using unique idobj using srid=2056"
  STATUS ON
  TEMPLATE "ttt"
  MINSCALEDENOM 0
  MAXSCALEDENOM 5001
  CLASS
    NAME "Autres"
    STYLE
        PATTERN 7 7 END
        OUTLINECOLOR 0 0 0
        WIDTH 2
    END 
  END
END

LAYER
  NAME "mo14_servitudes_c_surf_autre"
  TYPE POLYGON
  METADATA
       "ows_title" "mo14_servitudes_c_surf_autre"
       " wms_srs" "epsg:2056"
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from mensuration.mo14_servitudes_c_surf_autre using unique idobj using srid=2056"
  STATUS ON
  TEMPLATE "ttt"
  LABELITEM "text10"
  MINSCALEDENOM 0
  MAXSCALEDENOM 5001
  LABELMAXSCALE 2000
  CLASS
    NAME "Surf. autre"
    STYLE
      SYMBOL "hachure2"
      COLOR 50 50 50
      SIZE 6
    END
    STYLE
      SYMBOL 0
      OUTLINECOLOR 50 50 50
      SIZE 1
    END
    LABEL
        TYPE TRUETYPE
        FONT verdana
        MAXSIZE 10
        SIZE 8
        MINSIZE 7
        ANGLE AUTO
        ANTIALIAS TRUE
        COLOR 0 0 0
        STYLE
            GEOMTRANSFORM 'labelpoly'
            COLOR 255 255 255
        END 
    END
  END
END

LAYER
  NAME "mo14_servitudes_c_surf"
  TYPE POLYGON
  METADATA
       "ows_title" "mo14_servitudes_c_surf"
       " wms_srs" "epsg:2056"
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from mensuration.mo14_servitudes_c_surf using unique idobj using srid=2056"
  STATUS ON
  TEMPLATE "ttt"
  OPACITY 50
  LABELITEM "text10"
  LABELMAXSCALE 2000 
  MINSCALEDENOM 0
  MAXSCALEDENOM 5001
  CLASS
    NAME "Passages"
    STYLE
      SYMBOL 0
      COLOR 220 220 220
    END
    STYLE  
      OUTLINECOLOR 0 0 0
      PATTERN 5 5 END
      WIDTH 2
    END
    LABEL
        TYPE TRUETYPE
        FONT verdana
        MAXSIZE 10
        SIZE 8
        MINSIZE 7
        ANGLE AUTO
        ANTIALIAS TRUE
        COLOR 0 0 0
        STYLE
            GEOMTRANSFORM 'labelpoly'
            COLOR 255 255 255
        END
    END
  END
END


LAYER
 NAME "mo14_servitudes_a_lig"
  TYPE LINE
  METADATA
       "ows_title" "mo14_servitudes_a_lig"
       " wms_srs" "epsg:2056"
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from mensuration.mo14_servitudes_a_lig using unique idobj using srid=2056"
  STATUS ON
  TEMPLATE "ttt"
  MINSCALEDENOM 0
  MAXSCALEDENOM 5001
  LABELMAXSCALE 2000
  LABELITEM "text10"
  CLASS
    NAME "Constructions"
    STYLE
        OUTLINECOLOR 0 0 0
        PATTERN 5 5 END
        WIDTH 2
    END
    LABEL
        TYPE TRUETYPE
        FONT verdana
        MAXSIZE 10
        SIZE 8
        MINSIZE 7
        ANGLE AUTO
        ANTIALIAS TRUE
        COLOR 0 0 0
        STYLE
            GEOMTRANSFORM 'labelpoly'
            COLOR 255 255 255
        END  
    END
  END
END

LAYER
  NAME "mo14_servitudes_a_surf"
  TYPE POLYGON
  METADATA
       "ows_title" "mo14_servitudes_a_surf"
       " wms_srs" "epsg:2056"
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from mensuration.mo14_servitudes_a_surf using unique idobj using srid=2056"
  STATUS ON
  TEMPLATE "ttt"
  LABELMAXSCALE 2000
  LABELITEM "text10"
  MINSCALEDENOM 0
  MAXSCALEDENOM 5001
  CLASS
    NAME "Constructions surf."
    STYLE
      SYMBOL "hachure3"
      COLOR 50 50 50
      SIZE 7
    END
    STYLE
      SYMBOL "hachure4"
      COLOR 50 50 50
      SIZE 7
    END
    STYLE
      SYMBOL 0
      OUTLINECOLOR 50 50 50
      SIZE 1
    END
    LABEL
        TYPE TRUETYPE
        FONT verdana
        MAXSIZE 10
        SIZE 8
        MINSIZE 7
        ANGLE AUTO
        ANTIALIAS TRUE
        COLOR 0 0 0
        STYLE
            GEOMTRANSFORM 'labelpoly'
            COLOR 255 255 255
        END  
    END
  END
END

LAYER
 NAME "mo14_servitudes_g_lig"
  TYPE LINE
  METADATA
       "ows_title" "mo14_servitudes_g_lig"
       " wms_srs" "epsg:2056"
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from mensuration.mo14_servitudes_g_lig using unique idobj using srid=2056"
  STATUS ON
  TEMPLATE "ttt"
  LABELMAXSCALE 2000
  LABELITEM "text10"
  MINSCALEDENOM 0
  MAXSCALEDENOM 5001
  CLASS
    NAME "Constructions"
    STYLE
        OUTLINECOLOR 0 0 0
        PATTERN 5 5 2 5 END
        WIDTH 2
    END
    LABEL
        TYPE TRUETYPE
        FONT verdana
        MAXSIZE 10
        SIZE 8
        MINSIZE 7
        ANGLE AUTO
        ANTIALIAS TRUE
        COLOR 0 0 0
        STYLE
            GEOMTRANSFORM 'labelpoly'
            COLOR 255 255 255
        END
    END
  END
END

LAYER
 NAME "mo14_servitudes_g_pts"
  TYPE POINT
  METADATA
       "ows_title" "mo14_servitudes_g_pts"
       " wms_srs" "epsg:2056"
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from mensuration.mo14_servitudes_g_pts using unique idobj using srid=2056"
  STATUS ON
  TEMPLATE "ttt"
  LABELMAXSCALE 2000
  LABELITEM "text10"
  MINSCALEDENOM 0
  MAXSCALEDENOM 5001
  CLASS
    NAME "Regards"
    STYLE
      SYMBOL "circle"
      OUTLINECOLOR 0 0 0
      SIZE 10
    END
    STYLE
      SYMBOL "circle"
      OUTLINECOLOR 0 0 0
      SIZE 8
    END
    LABEL
        TYPE TRUETYPE
        FONT verdana
        MAXSIZE 10
        SIZE 8
        MINSIZE 7
        ANGLE AUTO
        POSITION uc
        ANTIALIAS TRUE
        COLOR 0 0 0
        STYLE
            GEOMTRANSFORM 'labelpoly'
            COLOR 255 255 255
        END   
    END
  END
END

LAYER
 NAME "mo14_servitudes_g_surf"
  TYPE POLYGON
  METADATA
       "ows_title" "mo14_servitudes_g_surf"
       " wms_srs" "epsg:2056"
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from mensuration.mo14_servitudes_g_surf using unique idobj using srid=2056"
  STATUS ON
  TEMPLATE "ttt"
  LABELMAXSCALE 2000
  LABELITEM "text10"
  MINSCALEDENOM 0
  MAXSCALEDENOM 5001
  CLASS
    NAME "Surf. eaux"
    STYLE
      SYMBOL "hachure1"
      COLOR 50 50 50
      SIZE 6
    END
    STYLE
      SYMBOL "hachure2"
      COLOR 50 50 50
      SIZE 6
    END
    STYLE
      SYMBOL 0
      OUTLINECOLOR 50 50 50
      SIZE 1
    END
    LABEL
        TYPE TRUETYPE
        FONT verdana
        MAXSIZE 10
        SIZE 8
        MINSIZE 7
        ANGLE AUTO
        ANTIALIAS TRUE
        COLOR 0 0 0
        STYLE
            GEOMTRANSFORM 'labelpoly'
            COLOR 255 255 255
        END   
    END
  END
END

LAYER
NAME "mo5_point_de_detail"
  TYPE POINT
  METADATA
       "ows_title" "mo5_point_de_detail"
       " wms_srs" "epsg:2056"
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from mensuration.mo5_point_de_detail using unique idobj using srid=2056"
  STATUS ON
  MINSCALEDENOM 0
  MAXSCALEDENOM 2001
  CLASSITEM "nature"
  TEMPLATE "ttt"
  CLASS
    NAME "Borne"
    EXPRESSION /1/	
    SYMBOL "circle"
    SIZE 7
    COLOR 255 255 255 
    OUTLINECOLOR 0 0 0
  END
  CLASS
    NAME "Cheville"
    EXPRESSION /2/	
    SYMBOL "circle"
    SIZE 6
    COLOR 255 255 255 
    OUTLINECOLOR 0 0 0
  END  
  CLASS
    NAME "Croix"
    EXPRESSION /3/	
    SYMBOL "croix"
  END  
  CLASS
    NAME "Pieu, piquet"
    EXPRESSION /4/	
    SYMBOL "circle"
    SIZE 5
    COLOR 255 255 255 
    OUTLINECOLOR 0 0 0
  END
  CLASS
    NAME "Non mat."
    EXPRESSION /5/	
    SYMBOL "circle"
    SIZE 6
    COLOR 0 0 0 
    OUTLINECOLOR 255 255 255
  END
  CLASS
    NAME "Borne artif."
    EXPRESSION /6/	
    SYMBOL "circle"
    SIZE 7
    COLOR 255 255 255 
    OUTLINECOLOR 0 0 0
  END
  CLASS
    NAME "Tuyau"
    EXPRESSION /7/	
    SYMBOL "circle"
    SIZE 7
    COLOR 255 255 255 
    OUTLINECOLOR 0 0 0
  END
END


LAYER
    NAME "v_immeubles_txt"
    GROUP "mo9_text_group"
    TYPE POINT
    METADATA
        "ows_title" "v_immeubles_txt"
        "wms_srs" "epsg:2056"
    END
    CONNECTIONTYPE POSTGIS
    CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
    PROCESSING "CLOSE_CONNECTION=DEFER"
    DATA "geom from mensuration.v_immeubles_txt using unique idobj using srid=2056"
    STATUS ON
    LABELITEM "numero"
    MAXSCALEDENOM 6000
    SYMBOLSCALE 1000
    LABELMAXSCALEDENOM 6000
    CLASSITEM "provenance"
    CLASS
        NAME "N° parcelle"
        EXPRESSION /officiel/
        LABEL
            TYPE TRUETYPE
            FONT arialbd
            MAXSIZE 11
            SIZE 10
            MINSIZE 7
            ANGLE AUTO
            ANTIALIAS TRUE
            COLOR 0 0 0
            FORCE TRUE
            OUTLINECOLOR 255 255 255
            POSITION cc
        END
    END
    CLASS
        NAME "N° parcelle provisoire"
        EXPRESSION /provisoire/
        LABEL
            TYPE TRUETYPE
            FONT arialbd
            MAXSIZE 11
            SIZE 10
            FORCE TRUE
            MINSIZE 7
            ANGLE AUTO
            ANTIALIAS TRUE
            COLOR 49 48 198
            FORCE TRUE
            OUTLINECOLOR 255 255 255
            POSITION cc
        END
    END
    CLASS
        NAME "* en mutation"
        EXPRESSION /./
        LABEL
            TYPE TRUETYPE
            FONT arialbd
            MAXSIZE 11
            SIZE 10
            MINSIZE 7
            ANGLE AUTO
            ANTIALIAS TRUE
            COLOR 0 0 0
            FORCE TRUE
            OUTLINECOLOR 255 255 255
            POSITION cc
        END
  END
END

LAYER
    NAME "mo9_immeubles_txt_rappel"
    GROUP "mo9_text_group"
    TYPE LINE
    METADATA
        "ows_title" "mo9_immeubles_txt_rappel"
        "wms_srs" "epsg:2056"
    END
    CONNECTIONTYPE POSTGIS
    CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
    PROCESSING "CLOSE_CONNECTION=DEFER"
    DATA "geom from mensuration.mo9_immeubles_txt_rappel using unique idobj using srid=2056"
    STATUS ON
    MINSCALEDENOM 0
    MAXSCALEDENOM 4000
    CLASS
        STYLE
            WIDTH 1
            COLOR 0 0 0
        END
    END
END

LAYER
    NAME "mo6_couverture_sol_nb_1"
    METADATA
        "wms_title" "Couverture du sol noir-blanc"
        "wms_srs" "epsg:2056"
    END
    GROUP "mo6_couverture_sol_nb"
    TYPE POLYGON
    STATUS ON
    CONNECTIONTYPE POSTGIS
    CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
    PROCESSING "CLOSE_CONNECTION=DEFER"
    DATA "geom from mensuration.mo6_couverture_du_sol_surf_tot using unique idobj using srid=2056"
    TEMPLATE "ttt"
    CLASSITEM "typcou"
    CLASS
        NAME "Bois"
        EXPRESSION /bois/
        STYLE
            COLOR 255 255 255
        END
        STYLE
            SYMBOL "bois"
            COLOR 150 150 150
            OUTLINECOLOR 0 0 0
            SIZE 15
        END
    END
    CLASS
        EXPRESSION /./
        COLOR 255 255 255
        OUTLINECOLOR 0 0 0
    END
    MINSCALEDENOM 0
    MAXSCALEDENOM 15000
END

LAYER
    NAME "mo6_couverture_sol_nb_2"
    METADATA
        "wms_title" "Couverture du sol noir-blanc 2"
        "wms_srs" "epsg:2056"
    END
    GROUP "mo6_couverture_sol_nb"
    TYPE POLYGON
    STATUS ON
    CONNECTIONTYPE POSTGIS
    CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
    PROCESSING "CLOSE_CONNECTION=DEFER"
    DATA "geom from mensuration.mo6_couverture_du_sol_surf_tot using unique idobj using srid=2056"
    TEMPLATE "ttt"
    CLASSITEM "desnat"
    CLASS
        NAME "Vigne"
        EXPRESSION /vigne/
        SYMBOL "vigne"
        COLOR 150 150 150
        OUTLINECOLOR 0 0 0
        SIZE 10
    END
    CLASS
        NAME "Sans végétation"
        EXPRESSION /rocher|éboulis|gravière|décharge|enrochement|inculte/
        STYLE
            SYMBOL "IcePack"
        END
    END
    MINSCALEDENOM 0
    MAXSCALEDENOM 15000
END

LAYER
  NAME "domaine_lac_remblaye"
  TYPE POLYGON
  METADATA
       "ows_title" "domaine_lac_remblaye"
       " wms_srs" "epsg:2056"
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from mensuration.domaine_lac_remblaye using unique idobj using srid=2056"
  STATUS ON
  CLASS
    STYLE
      SYMBOL 'hachure'
      COLOR 180 0 0
      OUTLINECOLOR 180 0 0
      ANGLE 45
      SIZE 4
      WIDTH 1
      END
  END
  MINSCALEDENOM 50
  MAXSCALEDENOM 15000
END

LAYER
  NAME "mo9_immeubles"
  TYPE POLYGON
  METADATA
       "ows_title" "mo9_immeubles"
       " wms_srs" "epsg:2056"
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from mensuration.mo9_immeubles using unique idobj using srid=2056"
  STATUS ON
  TEMPLATE "ttt"
  CLASSITEM "typimm"
  CLASS
    EXPRESSION /DDP/
    NAME "DDP"
    STYLE
      OUTLINECOLOR 10 10 10 
      PATTERN 7 7 END
      WIDTH 1
    END
  END
  CLASS
    EXPRESSION /DP/
    NAME "DP"
    STYLE
      OUTLINECOLOR 10 10 10 
      PATTERN 7 7 END
      WIDTH 1
    END
  END
  CLASS
    EXPRESSION /./
    NAME "Parcel. officiel"
    STYLE
      OUTLINECOLOR 0 0 0
      WIDTH 1
    END
  END
  MINSCALEDENOM 50
  MAXSCALEDENOM 15000
END

LAYER
  NAME "mo23_batiments_projetes"
  TYPE POLYGON
  METADATA
       "ows_title" "mo23_batiments_projetes"
       " wms_srs" "epsg:2056"
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from mensuration.mo23_batiments_projetes using unique idobj using srid=2056"
  STATUS ON
  LABELMAXSCALE 1500
  TEMPLATE "ttt"
  CLASS
    NAME "Bâtiments projetés"
    EXPRESSION ([curr_fao]>=0)
    STYLE
      COLOR 0 0 255
      SYMBOL "hachure2"
      SIZE 3
    END
    STYLE
      OUTLINECOLOR 0 0 255
      WIDTH 1
    END
  END
  MINSCALEDENOM 750
  MAXSCALEDENOM 7500
END


LAYER
  NAME "mo22_batiments"
  TYPE POLYGON
  METADATA
       "ows_title" "mo22_batiments"
       " wms_srs" "epsg:2056"
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from mensuration.mo22_batiments using unique idobj using srid=2056"
  STATUS ON
  LABELMAXSCALE 1500
  CLASSITEM "typcou"
  TEMPLATE "ttt"
  CLASS
    NAME "Bâtiments ordinaires"
    EXPRESSION /ordinaire/
    STYLE
      COLOR 200 200 200 
      OUTLINECOLOR 130 130 130
    END
  END
  CLASS
    NAME "Bâtiments souterrains"
    EXPRESSION /souterrain/
    STYLE
      OPACITY 40    
      COLOR 230 230 230
     END
     STYLE
    OPACITY 40
        OUTLINECOLOR 130 130 130
        PATTERN 7 7 END
        WIDTH 1
    END
  END
  MINSCALEDENOM 50
  MAXSCALEDENOM 7500
END

LAYER
  NAME "mo21_batiments_provisoires"
  TYPE POLYGON
  METADATA
       "ows_title" "mo21_batiments_provisoires"
       " wms_srs" "epsg:2056"
  END
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=${vars:dbuser} password=${vars:dbpassword} dbname=${vars:db} host=${vars:dbhost} port=${vars:dbport}"
  PROCESSING "CLOSE_CONNECTION=DEFER"
  DATA "geom from mensuration.mo21_batiments_provisoires using unique idobj using srid=2056"
  STATUS ON
  LABELMAXSCALE 1500
  CLASSITEM "typcou"
  TEMPLATE "ttt"
  CLASS
    NAME "Bâtiments provisoires"
    #EXPRESSION /ordinaire/
    STYLE
      COLOR 200 200 200 
      OUTLINECOLOR 130 130 130
    END
  END
  MINSCALEDENOM 50
  MAXSCALEDENOM 7500
END

END


